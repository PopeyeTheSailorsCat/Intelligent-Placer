# Intelligent-Placer:
Требуется по фотографии нескольких предметов, расположенных на светлой горизонтальной поверхности и многоугольнику понять, какие из из предметов,
представленных на фотографии можно поместить в многоугольник, чтобы занять в нем наибольшую площадь.
Многоугольник задается фигурой, нарисованной темным маркером на белом листе бумаги, сфотографированной вместе с предметами.

Intelligent Placer будет оформлен в виде python-библиотеки intelligent_placer_lib, которая поставляется каталогом intelligent_placer_lib с файлом intelligent_placer.py,
содержащим функцию - точку входа def check_image(<path_to_png_jpg_image_on_local_computer>), которая возвращает 10-мерный вектор, со значениями 0\1\2.


# Оценка качества работы
Оценкой качества работы Intelligent Placer будет является незанятая площадь в многоугольнике. На ее основании можно представить различные метрики  
самой простой из которых является отношения незанятой площади многоугольника к общей площади(будет давать непокрытый процент).  
Более сложные метрики будут отображать количество незанятой площади и площади неиспользованных фигур.  

# Входные данные:
На вход алгоритму подается путь к изображению в формате png/jpg.  
На изображении обязан присутствовать многоугольник на белом листе A4. Предметы на изображении могут отсутствовать.  
В случае, если какой то предмет присутствует несколько раз, считается что он присутствует один раз.  
Ожидаются, что все предметы повернуты всегда одной стороной к камере.  
Предметы не должны перекрывать друг друга на фотографии. В идеале между ними должен присутствовать зазор 1-2 см.  
Изображение должно быть сделано с точки которая  отклонена не более 30 градусов от нормали поверхности, на которой расположены предметы.  
На изображении не должны присутствовать пересвеченные и серо-черные области. В идеале свет должен падать на поверхность перпендикулярно(Возможны отклонения соразмерные с отклонением снимка).  
Толщина линии границы многоугольника не должна превосходить 10px на изображении.  
Минимальный размер изображения - 512 на 256.  


# Выходные данные:
Вектор, элементами которого являются классы, присвоенные 10 изначальным объектам. Каждому объекту соответствует компонента вектора.  
0 - объект отсутствует на изображении.  
1 - объект присутствует, но не влезает в многоугольник при желании добиться максимальной площади покрытия.  
2 - объект присутствует и влезает в многоугольник в рамках достижения максимальной площади покрытия.  
В случае необходимости, вектор можно расширить для получения дополнительной информации из алгоритма. Например если мы захотим получать координаты и ориентацию объектов, которые попали в многоугольник.

# Задачи, решаемые в процессе:
Алгоритм должен последовательно решать несколько задач  
1) Задача детекции предметов - обнаружить где на изображении предметы и поместить их в bounding box  
2) Задача детекции многоугольника - обнаружить где многоугольник и поместить его в bounding box  
3) Классификация обнаруженных предметов - На этапе 1 были обнаружены все предметы. Последовательно подавать их на классификатор(например CNN)  
Получать информацию о том, какие предметы присутствуют на изображении. Компоненты отсутствующих предметов можно занулить.  
4) Задача распознавания формы многоугольника -  На этапе 2 был обнаружен многоугольник, нужно получить его геометрическую структуру.  
5 )Задача "максимально упаковки прямоугольника" - Зная геометрическую структуру многоугольника и структуру предметов решить задачу геометрической  
оптимизации.

Скорее всего задача 5 будет решаться через триангуляцию многоугольника, и уже готовую триангуляцию предметов. Но этот раздел я пока не обдумывал.

Изображение white.jpg представляет собой белую плоскость, с листом А4 на ней  для масштаба.   
Остальные изображения - примеры выбранных мною объектов.   
Они все не слишком большого размера, чтобы можно было больше помещать в многоугольники.

# Предметы
## Ручка  
![Ручка](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/pen.jpg)  
## Крышка
![Крышка](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/cap.jpg)  
## Кубик
![Кубик](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/dice.jpg)  
## Медиатор
![Медиатор](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/mediator.jpg)  
## Зажигалка
![Зажигалка](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/lighter.jpg)  
## Значок
![Значок](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/badge.jpg)   
## Пульт
![Пульт](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/controller.jpg)  
## Конь
![Конь](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/horse.jpg)  
## Батарейка
![Батарейка](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/battery.jpg)  
## Ножницы
![Ножницы](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/scissors.jpg)  

# Поверхность для съемки
![Поверхность](https://github.com/PopeyeTheSailorsCat/Intelligent-Placer/raw/main/imgs/white.jpg)  
